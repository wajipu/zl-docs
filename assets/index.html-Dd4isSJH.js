import{_ as i,c as a,d as n,o as e}from"./app-Cwa4zWpf.js";const l={};function h(t,s){return e(),a("div",null,s[0]||(s[0]=[n(`<h2 id="依赖环境" tabindex="-1"><a class="header-anchor" href="#依赖环境"><span>依赖环境</span></a></h2><ul><li><a href="https://dart.cn/get-dart/" target="_blank" rel="noopener noreferrer">Dart</a> : <strong>^3.6.2</strong></li><li><a href="https://docs.flutter.cn/get-started/install" target="_blank" rel="noopener noreferrer">Flutter</a> : <strong>^3.27.4 或 &gt;= ^3.27.4</strong></li></ul><h2 id="怎么安装依赖环境" tabindex="-1"><a class="header-anchor" href="#怎么安装依赖环境"><span>怎么安装依赖环境？</span></a></h2><p>我们提供了一个 <code>依赖库地址</code>，帮助您构建一个基本小程序项目。您可以通过以下<code>依赖库地址</code>添加到 <code>pubspec.yaml</code></p><div class="vp-steps"><ul><li><mark><a href="https://dart.cn/get-dart/" target="_blank" rel="noopener noreferrer">Dart</a>:→依赖库</mark><div class="language-dart line-numbers-mode" data-highlighter="shiki" data-ext="dart" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">dart_eval</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> git</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    url</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> git</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">@codeup</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">aliyun</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">com</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">xxxxx</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">infrastructure</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">dart_eval</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">git</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    ref</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 仓库版本号</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><mark><a href="https://docs.flutter.cn/get-started/install" target="_blank" rel="noopener noreferrer">Flutter</a>:→依赖库</mark><div class="language-dart line-numbers-mode" data-highlighter="shiki" data-ext="dart" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">flutter_eval</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  git</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    url</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> git</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">@codeup</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">aliyun</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">com</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">xxxxxxxxx</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">infrastructure</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">flutter_eval</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">git</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    ref</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 仓库版本号</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><mark><a href="https:" target="_blank" rel="noopener noreferrer">Applet</a>→依赖库</mark><div class="language-dart line-numbers-mode" data-highlighter="shiki" data-ext="dart" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">applet</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  git</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    url</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> git</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">@codeup</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">aliyun</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">com</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">xxxxxxxxx</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">infrastructure</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">applet</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">git</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    ref</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 仓库版本号</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></div><h2 id="众流小程序-开发注意事项" tabindex="-1"><a class="header-anchor" href="#众流小程序-开发注意事项"><span><code>众流小程序</code> 开发注意事项</span></a></h2><div class="vp-steps"><ul><li><h3 id="小程序代码存放目录" tabindex="-1"><a class="header-anchor" href="#小程序代码存放目录"><span><mark>小程序代码存放目录：</mark></span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>lib/app/{小程序项目名称}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><h3 id="小程序头文件" tabindex="-1"><a class="header-anchor" href="#小程序头文件"><span><mark>小程序头文件：</mark></span></a></h3></li><li><h3 id="版本控制文件" tabindex="-1"><a class="header-anchor" href="#版本控制文件"><span><mark>版本控制文件：</mark></span></a></h3></li><li><h4 id="manifest-json" tabindex="-1"><a class="header-anchor" href="#manifest-json"><span><mark>manifest.json：</mark></span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    ///小程序名称</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">name</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">支付管理</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    ///小程序版本</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">version</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">0.0.1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><h3 id="入口文件" tabindex="-1"><a class="header-anchor" href="#入口文件"><span><mark>入口文件：</mark></span></a></h3><p>携带参数说明:</p><p>1.<code>url</code>: 用于小程序路由路径</p><p>2.<code>arguments</code>: 用于提供小程序参数</p><div class="language-dart line-numbers-mode" data-highlighter="shiki" data-ext="dart" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> App</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">open</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> arguments</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> arguments)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><h4 id="main-dart-众流小程序" tabindex="-1"><a class="header-anchor" href="#main-dart-众流小程序"><span><mark>main.dart <code>众流小程序</code>：</mark></span></a></h4><div class="language-dart line-numbers-mode" data-highlighter="shiki" data-ext="dart" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    ///小程序入口函数</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">Widget</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> entrypoint</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    ///路径</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    String</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    ///参数</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    dynamic</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> argments</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    ///注意：当前无法使用  switch () 语法，请使用 if ！</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    ///加载详情页</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">   if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (path </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">==</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> &#39;/detail&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">      return</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> PageDetail</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   ///加载默认首页</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">   return</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> PageHome</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><h3 id="小程序网络请求拦截器" tabindex="-1"><a class="header-anchor" href="#小程序网络请求拦截器"><span><mark>小程序网络请求拦截器：</mark></span></a></h3><p>文件：lib/services/interceptor.dart</p></li><li><h2 id="语法注意事项" tabindex="-1"><a class="header-anchor" href="#语法注意事项"><span><mark>语法注意事项：</mark></span></a></h2><ol><li><a href="https://pub.dev/packages/dart_eval#language-feature-support-table" target="_blank" rel="noopener noreferrer">支持的语法</a></li><li>由于语法限制尽量避免面使用高级语法糖，否则可能碰见一些比较难以排查或修复的 BUG。</li></ol></li><li><h2 id="常规事项" tabindex="-1"><a class="header-anchor" href="#常规事项"><span><mark>常规事项：</mark></span></a></h2><ol><li>宿主已接管授权业务，小程序不需要关心授权业务</li><li>引用的三方库需要进行桥接，界面库桥接至 flutter_eval ，基础功能库桥接至 applet。</li></ol></li><li><h2 id="小刀项目如何迭代小程序" tabindex="-1"><a class="header-anchor" href="#小刀项目如何迭代小程序"><span><mark>小刀项目如何迭代小程序：</mark></span></a></h2><ol><li>众流生意 进入 管理端 / 应用管理 / {选择应用} / 编辑菜单</li><li>遵循 URL 规范填入 小程序路由 ( 例：app://payment_manager/ )</li></ol><p>宿主会根据填写的 小程序路由 进行判断加载 小程序 还是 小刀应用</p></li><li><h2 id="future-todo" tabindex="-1"><a class="header-anchor" href="#future-todo"><span><mark>FUTURE/TODO：</mark></span></a></h2><ol><li>拦截器应该需要适配更多的错误码(与小刀的错误码对齐实现)。</li><li>拖拽组件封装</li><li>图片上传编辑组件封装</li></ol></li></ul></div>`,7)]))}const r=i(l,[["render",h]]),p=JSON.parse('{"path":"/standard/k46maie8/","title":"众流小程序","lang":"zh-CN","frontmatter":{"title":"众流小程序","createTime":"2025/03/25 17:40:20","permalink":"/standard/k46maie8/","tags":["指南","快速上手"],"watermark":true},"headers":[],"readingTime":{"minutes":1.85,"words":554},"git":{"updatedTime":1744261661000,"contributors":[{"name":"瓦吉普","username":"","email":"wajipu@qq.com","commits":1,"avatar":"https://gravatar.com/avatar/f627dee9b95c4c406ce9542b40c232cfc8f3dd4f7a6de716ac83073c7a39efd7?d=retro"}]},"filePathRelative":"notes/standard/applet.md"}');export{r as comp,p as data};
